{% extends 'dssgmkt/base.html' %}

{% block pagecontents %}
  <div class="row">
    <div class="col-lg-3">
      <form>
        <h4>Filter</h4>
        <label for="projname">
          Project name
          <input class="form-control" type="text" id="projname" name="projname" placeholder=""></input></label>
        <label for="orgname">
          Organization name
          <input class="form-control" type="text" id="orgname" name="orgname" placeholder=""></input></label>

        <fieldset name="socialcause">
          <legend>Project main cause</legend>
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='education' field_text='Education' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='health' field_text='Health' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='environment' field_text='Environment' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='socialservices' field_text='Social Services' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='transportation' field_text='Transportation' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='energy' field_text='Energy and Environment' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='internationaldev' field_text='International Development' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='publicsafety' field_text='Public Safety' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='economicdev' field_text='Economic Development' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='other' field_text='Other' %}
        </fieldset>

        <fieldset name="status">
          <legend>Project status</legend>
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='new' field_text='New' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='inprogress' field_text='In progress' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='acceptingvolunteers' field_text='Looking for volunteers' %}
          {% include 'dssgmkt/components/filter_checkbox.html' with field_name='completed' field_text='Completed' %}
        </fieldset>
        <button type="submit"
                formmethod="get"
                class="btn btn-success">
          Apply filters
        </button>
      </form>
    </div>
    <div class="col-lg-9">

      {% if proj_list %}
        <table class="table table-hover">
          <thead>
            <tr>
                <th>Project name</th>
                <th>Organization name</th>
                <th>Summary</th>
                <th>Status</th>
                <th>Social impact area</th>
            </tr>
          </thead>
          <tbody>
            {% for project in proj_list %}
              <tr>
                  <td><a href="{% url 'dssgmkt:proj_info' project.id %}">{{ project.name }}</a></td>
                  <td><a href="{% url 'dssgmkt:org_info' project.organization.id %}">{{ project.organization.name }}</a></td>
                  <td>{{ project.short_summary }}</td>
                  <td>{{ project.get_status_display }}</td>
                  <td>{{ project.get_project_cause_display }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
        {% url 'dssgmkt:proj_list' as proj_list_url %}
        {% include 'dssgmkt/components/pagination.html' with baseurl=proj_list_url %}

      {% else %}
        <p>No projects found.</p>
      {% endif %}
    </div>
  </div>

{% endblock %}
